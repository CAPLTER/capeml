<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This package is intented to facilitate the creation of EML metadata with intent to publish data and metadata in the Environmental Data Initiative (EDI) data repository. Functions and a workflow are included that allow for the creation of metadata at the data set level, and individual data entities (other entities, data tables).">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/5/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>CAP LTER package for generating EML • capeml</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="CAP LTER package for generating EML">
<meta property="og:description" content="This package is intented to facilitate the creation of EML metadata with intent to publish data and metadata in the Environmental Data Initiative (EDI) data repository. Functions and a workflow are included that allow for the creation of metadata at the data set level, and individual data entities (other entities, data tables).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/5/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="preferably.css">
<link id="css-code-light" rel="stylesheet" href="code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">

    <a class="navbar-brand me-2" href="index.html">capeml</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>




      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p><br><br></p>
<div class="section level4"><h4 id="capeml-tools-to-aid-the-generation-of-eml-metadata">capeml: tools to aid the generation of EML metadata<a class="anchor" aria-label="anchor" href="#capeml-tools-to-aid-the-generation-of-eml-metadata"></a>
</h4></div>
<div class="section level4">
<h4 id="overview">overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h4>
<p>This package contains tools to aid the generation of EML metadata with intent to publish a dataset (data + metadata) in the Environmental Data Initiative (EDI) data repository. Functions and a template work flow are included that allow for the creation of metadata at the dataset level, and individual data entities (e.g., other entities, data tables).</p>
<p>Helper functions for the creation of dataset metadata for dataTable and otherEntity objects using the <a href="https://docs.ropensci.org/EML/" class="external-link">EML</a> package are supported. This package can be extended with the <a href="https://github.com/caplter/capemlgis" class="external-link">capemlGIS</a> package to generate metadata for spatialRaster and spatialVector objects.</p>
<p>A template work flow is available as part of this package. The template is automatically generated if a new project is created with <code>write_directory</code>, which also generates a <code>config.yaml</code> file and new directory, or with the <code>write_template</code> function.</p>
</div>
<div class="section level4">
<h4 id="installation">installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h4>
<p>Install from GitHub (after installing the <a href="https://cran.r-project.org/web/packages/devtools/index.html" class="external-link">devtools</a> package):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"CAPLTER/capeml"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="options">options<a class="anchor" aria-label="anchor" href="#options"></a>
</h4>
<div class="section level5">
<h5 id="eml-version">EML version<a class="anchor" aria-label="anchor" href="#eml-version"></a>
</h5>
<p>This package defaults to the current version of EML. Users can switch to the previous version with <code>emld::eml_version("eml-2.1.1")</code>.</p>
</div>
<div class="section level5">
<h5 id="project-naming">project naming<a class="anchor" aria-label="anchor" href="#project-naming"></a>
</h5>
<p>Most EML-generating functions in the capeml and capemlGIS packages will create both physical objects and EML references to those objects. By default, the package will name output files with the format <code>identifier</code>_<code>object-name</code>.<code>file-extension</code> (e.g., <em>664_site_map.png</em>). The target object (e.g., my_map.png) is renamed with the additional metadata and this object name is referenced in the EML metadata. Project naming can be disabled by setting the <code>projectNaming</code> flag to <code>FALSE</code>. When set to FALSE, the object name is not changed, and the name of the data object as read into the R environment is written to file and referenced in the EML. Note that the package identifier (number) is not passed as an argument, and must exist in <code>config.yaml</code> (as <code>identifier</code>).</p>
</div>
</div>
<div class="section level4">
<h4 id="getting-started">getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h4>
<div class="section level5">
<h5 id="new-projects">new projects<a class="anchor" aria-label="anchor" href="#new-projects"></a>
</h5>
<p>For new projects, <code>write_directory</code> will create a project directory at the current (default) or specified path. The package scope and number (e.g., “edi”, 521) are passed as arguments, with the package name (i.e., scope + identifier) becoming the directory name. Within the newly created directory, a template work flow as a Quarto (qmd) file with the package scope and number as the file name is generated. Additional files include a <code>config.yaml</code> for providing project-level metadata, a <code>people.yaml</code> for providing project personnel details (see below), and a <code>keywords.csv</code> file for providing project keywords. In <code>config.yaml</code>, the provided scope and package identifier are generated as parameters. Note that each of these template files can be generated outside of <code>write_directory</code> with package functions (see below).</p>
<p>Creating a new project from the command line (<em>sensu</em> below) then opening it with R is a convenient approach.</p>
<p><em>create project from command line</em></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>R <span class="op">--</span>vanilla <span class="op">-</span>e <span class="st">'capeml::write_directory(scope = "knb-lter-cap", identifier = 716)'</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="existing-projects">existing projects<a class="anchor" aria-label="anchor" href="#existing-projects"></a>
</h5>
<p>For existing projects, we can generate any of the needed configuration files with package functions:</p>
<ul>
<li>
<code>write_config</code> generates <code>config.yaml</code> with the package scope and identifier (e.g., “edi”, 521) passed as an argument to the function. A version number (default = 1) can be passed as a separate argument.</li>
<li>
<code>write_template</code> generates a template work flow as a Quarto (qmd) file named with the package scope and identifier.</li>
<li>
<code>write_people_template</code> generates a template yaml file for providing metadata regarding project personnel.</li>
<li>
<code>write_keywords</code> generates a template csv file for providing metadata regarding project keywords.</li>
</ul>
</div>
</div>
<div class="section level4">
<h4 id="construct-a-dataset">construct a dataset<a class="anchor" aria-label="anchor" href="#construct-a-dataset"></a>
</h4>
<div class="section level5">
<h5 id="project-details-dataset-package-number-and-package-identifier">project details: dataset package number and package identifier<a class="anchor" aria-label="anchor" href="#project-details-dataset-package-number-and-package-identifier"></a>
</h5>
<p>Package details, including scope and identifier are read from config.yaml. The appropriate version is determined by identifying the highest version currently in the production environment of the EDI repository (1 for new packages).</p>
</div>
<div class="section level5">
<h5 id="title">title<a class="anchor" aria-label="anchor" href="#title"></a>
</h5>
<p>The dataset title is read from the <code>title</code> parameter of <code>config.yaml</code>. The title can be quoted or unquoted but must be quoted if the title contains a colon.</p>
</div>
<div class="section level5">
<h5 id="maintenance">maintenance<a class="anchor" aria-label="anchor" href="#maintenance"></a>
</h5>
<p>The maintenance status of a project is read from the <code>maintenance</code> parameter of <code>config.yaml</code>. Standardized language is provided for either <code>none</code> (updates not anticipated) or <code>regular</code> (approximately annual updates are anticipated) maintenance regimes. <code>NULL</code> or text other than <code>none</code> or <code>regular</code> will omit the <code>maintenance</code> element from the resulting EML.</p>
</div>
<div class="section level5">
<h5 id="abstract">abstract<a class="anchor" aria-label="anchor" href="#abstract"></a>
</h5>
<p>The <code>create_dataset</code> function will look for a <code>abstract.md</code> file in the working directory or at the path provided if specified. <code>abstract.md</code> must be a markdown file.</p>
</div>
<div class="section level5">
<h5 id="keywords">keywords<a class="anchor" aria-label="anchor" href="#keywords"></a>
</h5>
<p><code>write_keywords</code> creates a template as a csv file for supplying dataset keywords. The <code>create_dataset</code> function will look for a <code>keywords.csv</code> file in the working directory or at the path provided if specified.</p>
</div>
<div class="section level5">
<h5 id="methods">methods<a class="anchor" aria-label="anchor" href="#methods"></a>
</h5>
<p>The <code>create_dataset</code> function will look for a <code>methods.md</code> file in the working directory or at the path provided if specified (<code>methods.md</code> must be a markdown file).</p>
<p>Alternatively, the work flow below is an approach of developing methods if provenance data are required or there are multiple methods files.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># methods from file tagged as markdown</span></span>
<span><span class="va">main</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>description <span class="op">=</span> <span class="fu">capeml</span><span class="fu">::</span><span class="fu"><a href="reference/read_markdown.html">read_markdown</a></span><span class="op">(</span><span class="st">"methods.md"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># provenance: naip</span></span>
<span><span class="va">naip</span>            <span class="op">&lt;-</span> <span class="fu">emld</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/emld/reference/as_emld.html" class="external-link">as_emld</a></span><span class="op">(</span><span class="fu">EDIutils</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/EDIutils/reference/get_provenance_metadata.html" class="external-link">get_provenance_metadata</a></span><span class="op">(</span><span class="st">"knb-lter-cap.623.1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">naip</span><span class="op">$</span><span class="va">`@context`</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">naip</span><span class="op">$</span><span class="va">`@type`</span>    <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span></span>
<span><span class="co"># provenance: lst</span></span>
<span><span class="va">landSurfaceTemp</span>            <span class="op">&lt;-</span> <span class="fu">emld</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/emld/reference/as_emld.html" class="external-link">as_emld</a></span><span class="op">(</span><span class="fu">EDIutils</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/EDIutils/reference/get_provenance_metadata.html" class="external-link">get_provenance_metadata</a></span><span class="op">(</span><span class="st">"knb-lter-cap.677.1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">landSurfaceTemp</span><span class="op">$</span><span class="va">`@context`</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">landSurfaceTemp</span><span class="op">$</span><span class="va">`@type`</span>    <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span></span>
<span><span class="va">rich_methods</span> <span class="op">&lt;-</span> <span class="fu">EML</span><span class="fu">::</span><span class="va"><a href="https://docs.ropensci.org/EML/reference/eml.html" class="external-link">eml</a></span><span class="op">$</span><span class="fu">methods</span><span class="op">(</span></span>
<span>  methodStep <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="va">main</span>,</span>
<span>    <span class="va">naip</span>,</span>
<span>    <span class="va">landSurfaceTemp</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="coverages">coverages<a class="anchor" aria-label="anchor" href="#coverages"></a>
</h5>
<p><em>Geographic</em> and <em>temporal</em> coverages are straightforward and documented in the work flow, but creating a <em>taxonomic</em> coverage is more involved. <em>Taxonomic coverage(s)</em> are constructed using EDI’s <a href="https://github.com/EDIorg/taxonomyCleanr" class="external-link">taxonomyCleanr</a> tool suite.</p>
<p>A sample work flow for creating a taxonomic coverage:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># taxonomyCleanr requires a path (to build the taxa_map)</span></span>
<span></span>
<span><span class="co"># Example: draw taxonomic information from existing resource:</span></span>
<span></span>
<span><span class="co"># plant taxa listed in the om_transpiration_factors file</span></span>
<span></span>
<span><span class="va">plantTaxa</span> <span class="op">&lt;-</span> <span class="fu">readr</span><span class="fu">::</span><span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">'om_transpiration_factors.csv'</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">attributeName</span> <span class="op">==</span> <span class="st">"species"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create or update map. A taxa_map.csv is the heart of taxonomyCleanr. This</span></span>
<span><span class="co"># function will build the taxa_map.csv and put it in the path identified with</span></span>
<span><span class="co"># my_path.</span></span>
<span></span>
<span><span class="fu">taxonomyCleanr</span><span class="fu">::</span><span class="fu"><a href="https://ediorg.github.io/taxonomyCleanr/reference/create_taxa_map.html" class="external-link">create_taxa_map</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="va">my_path</span>,</span>
<span>  x    <span class="op">=</span> <span class="va">plantTaxa</span>,</span>
<span>  col  <span class="op">=</span> <span class="st">"definition"</span></span>
<span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># Example: construct taxonomic resource:</span></span>
<span></span>
<span><span class="va">gambelQuail</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>taxName <span class="op">=</span> <span class="st">"Callipepla gambelii"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create or update map: a taxa_map.csv is the heart of taxonomyCleanr. This</span></span>
<span><span class="co"># function will build the taxa_map.csv in the path identified with my_path.</span></span>
<span></span>
<span><span class="fu">taxonomyCleanr</span><span class="fu">::</span><span class="fu"><a href="https://ediorg.github.io/taxonomyCleanr/reference/create_taxa_map.html" class="external-link">create_taxa_map</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="va">my_path</span>,</span>
<span>  x    <span class="op">=</span> <span class="va">gambelQuail</span>,</span>
<span>  col  <span class="op">=</span> <span class="st">"taxName"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Resolve taxa by attempting to match the taxon name (data.source 3 is ITIS but</span></span>
<span><span class="co"># other sources are accessible). Use `resolve_comm_taxa` instead of</span></span>
<span><span class="co"># `resolve_sci_taxa` if taxa names are common names but note that ITIS</span></span>
<span><span class="co"># (data.source 3) is the only authority taxonomyCleanr will allow for common</span></span>
<span><span class="co"># names.</span></span>
<span></span>
<span><span class="fu">taxonomyCleanr</span><span class="fu">::</span><span class="fu"><a href="https://ediorg.github.io/taxonomyCleanr/reference/resolve_sci_taxa.html" class="external-link">resolve_sci_taxa</a></span><span class="op">(</span></span>
<span>  path         <span class="op">=</span> <span class="va">my_path</span>,</span>
<span>  data.sources <span class="op">=</span> <span class="fl">3</span> <span class="co"># ITIS</span></span>
<span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># build the EML taxonomomic coverage</span></span>
<span></span>
<span><span class="va">taxaCoverage</span> <span class="op">&lt;-</span> <span class="fu">taxonomyCleanr</span><span class="fu">::</span><span class="fu"><a href="https://ediorg.github.io/taxonomyCleanr/reference/make_taxonomicCoverage.html" class="external-link">make_taxonomicCoverage</a></span><span class="op">(</span>path <span class="op">=</span> <span class="va">my_path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add taxonomic to the other coverages</span></span>
<span></span>
<span><span class="va">coverage</span><span class="op">$</span><span class="va">taxonomicCoverage</span> <span class="op">&lt;-</span> <span class="va">taxaCoverage</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="people">people<a class="anchor" aria-label="anchor" href="#people"></a>
</h5>
<p>Project personnel metadata in the form of <code>&lt;creator&gt;</code>, <code>&lt;metadataProvider&gt;</code>, and <code>&lt;associatedParty&gt;</code> are provided via the <code>people.yaml</code> configuration file. The following example illustrates personnel metadata for two <code>&lt;creators&gt;</code>, and one each <code>&lt;metadataProvider&gt;</code> and <code>&lt;associatedParty&gt;</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="kw">-</span><span class="at"> </span><span class="fu">last_name</span><span class="kw">:</span><span class="at"> Gannon</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="at">  </span><span class="fu">first_name</span><span class="kw">:</span><span class="at"> Richard</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a><span class="at">  </span><span class="fu">middle_name</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="at">  </span><span class="fu">role_type</span><span class="kw">:</span><span class="at"> creator</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="at">  </span><span class="fu">email</span><span class="kw">:</span><span class="at"> rgannon@cardinals.usfl</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a><span class="at">  </span><span class="fu">orcid</span><span class="kw">:</span><span class="at"> 1111-1111-11x1-1111</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a><span class="at">  </span><span class="fu">data_source</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a><span class="kw">-</span><span class="at"> </span><span class="fu">last_name</span><span class="kw">:</span><span class="at"> Carrol</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a><span class="at">  </span><span class="fu">first_name</span><span class="kw">:</span><span class="at"> Pete</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true"></a><span class="at">  </span><span class="fu">middle_name</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true"></a><span class="at">  </span><span class="fu">role_type</span><span class="kw">:</span><span class="at"> creator</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true"></a><span class="at">  </span><span class="fu">email</span><span class="kw">:</span><span class="at"> pcarroll@seahawks.usfl</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true"></a><span class="at">  </span><span class="fu">orcid</span><span class="kw">:</span><span class="at"> 2222-2x22-2222-2222</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true"></a><span class="at">  </span><span class="fu">data_source</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true"></a><span class="kw">-</span><span class="at"> </span><span class="fu">last_name</span><span class="kw">:</span><span class="at"> Payton</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true"></a><span class="at">  </span><span class="fu">first_name</span><span class="kw">:</span><span class="at"> Sean</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true"></a><span class="at">  </span><span class="fu">middle_name</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true"></a><span class="at">  </span><span class="fu">role_type</span><span class="kw">:</span><span class="at"> metadataProvider</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true"></a><span class="at">  </span><span class="fu">email</span><span class="kw">:</span><span class="at"> spayton@broncos.usfl</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true"></a><span class="at">  </span><span class="fu">orcid</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true"></a><span class="at">  </span><span class="fu">data_source</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true"></a><span class="kw">-</span><span class="at"> </span><span class="fu">last_name</span><span class="kw">:</span><span class="at"> Jim</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true"></a><span class="at">  </span><span class="fu">first_name</span><span class="kw">:</span><span class="at"> Harbaugh</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true"></a><span class="at">  </span><span class="fu">middle_name</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true"></a><span class="at">  </span><span class="fu">role_type</span><span class="kw">:</span><span class="at"> associatedParty</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true"></a><span class="at">  </span><span class="fu">project_role</span><span class="kw">:</span><span class="at"> </span><span class="st">"head coach"</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true"></a><span class="at">  </span><span class="fu">email</span><span class="kw">:</span><span class="at"> jharbaugh@chargers.usfl</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true"></a><span class="at">  </span><span class="fu">orcid</span><span class="kw">:</span><span class="at"> 3x33-3333-3333-2222</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true"></a><span class="at">  </span><span class="fu">data_source</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span></code></pre></div>
<p>If personnel are involved with many or repeated projects, it may be easier to keep personnel metadata in a file that <code>people.yaml</code> can reference. Below is an example of the same personnel metadata but drawing from a tabular csv file of personnel metadata. In this case, the tabular csv file contains most of the details (e.g., email, orcid) so we do not have to include those details in the yaml, and partial matching is supported so we do not have to pass the full names. We pass the location of the personnel tabular metadata file with <code>data_source</code>. We can also mix and match providing metadata via yaml and drawing from a tabular file. For example metadata pertaining to Pete Carrol are passed via yaml whereas metadata for all other personnel are drawn from the tabular file, with the presence of a <code>data_source</code> providing the indication to generate EML metadata from the details provided in the yaml or draw them from a tabular file.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="kw">-</span><span class="at"> </span><span class="fu">last_name</span><span class="kw">:</span><span class="at"> Ganon</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a><span class="at">  </span><span class="fu">first_name</span><span class="kw">:</span><span class="at"> Ri</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a><span class="at">  </span><span class="fu">middle_name</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a><span class="at">  </span><span class="fu">role_type</span><span class="kw">:</span><span class="at"> creator</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a><span class="at">  </span><span class="fu">email</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a><span class="at">  </span><span class="fu">orcid</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a><span class="at">  </span><span class="fu">data_source</span><span class="kw">:</span><span class="at"> </span><span class="st">"path/file.csv"</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true"></a><span class="kw">-</span><span class="at"> </span><span class="fu">last_name</span><span class="kw">:</span><span class="at"> Carrol</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true"></a><span class="at">  </span><span class="fu">first_name</span><span class="kw">:</span><span class="at"> Pete</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true"></a><span class="at">  </span><span class="fu">middle_name</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true"></a><span class="at">  </span><span class="fu">role_type</span><span class="kw">:</span><span class="at"> creator</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true"></a><span class="at">  </span><span class="fu">email</span><span class="kw">:</span><span class="at"> pcarroll@seahawks.nfl</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true"></a><span class="at">  </span><span class="fu">orcid</span><span class="kw">:</span><span class="at"> 2222-2x22-2222-2222</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true"></a><span class="at">  </span><span class="fu">data_source</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true"></a><span class="kw">-</span><span class="at"> </span><span class="fu">last_name</span><span class="kw">:</span><span class="at"> Payt</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true"></a><span class="at">  </span><span class="fu">first_name</span><span class="kw">:</span><span class="at"> Se</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true"></a><span class="at">  </span><span class="fu">middle_name</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true"></a><span class="at">  </span><span class="fu">role_type</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true"></a><span class="at">  </span><span class="fu">email</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true"></a><span class="at">  </span><span class="fu">orcid</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true"></a><span class="at">  </span><span class="fu">data_source</span><span class="kw">:</span><span class="at"> </span><span class="st">"path/file.csv"</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true"></a><span class="kw">-</span><span class="at"> </span><span class="fu">last_name</span><span class="kw">:</span><span class="at"> Harbaugh</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true"></a><span class="at">  </span><span class="fu">first_name</span><span class="kw">:</span><span class="at"> Jim</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true"></a><span class="at">  </span><span class="fu">middle_name</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true"></a><span class="at">  </span><span class="fu">role_type</span><span class="kw">:</span><span class="at"> associatedParty</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true"></a><span class="at">  </span><span class="fu">project_role</span><span class="kw">:</span><span class="at"> </span><span class="st">"head coach"</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true"></a><span class="at">  </span><span class="fu">email</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true"></a><span class="at">  </span><span class="fu">orcid</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true"></a><span class="at">  </span><span class="fu">data_source</span><span class="kw">:</span><span class="at"> </span><span class="st">"path/file.csv"</span></span></code></pre></div>
<p>If employing a tabular csv file to generate personnel metadata, it must have the following structure:</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="16%">
<col width="16%">
<col width="16%">
<col width="16%">
<col width="16%">
<col width="16%">
</colgroup>
<thead><tr class="header">
<th>last_name</th>
<th>first_name</th>
<th>middle_name</th>
<th>organization</th>
<th>email</th>
<th>orcid</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Gannon</td>
<td>Richard</td>
<td>NA</td>
<td>Phoenix Cardinals</td>
<td><a href="mailto:rgannon@cardinals.usfl" class="email">rgannon@cardinals.usfl</a></td>
<td>1111-1111-11x1-1111</td>
</tr>
<tr class="even">
<td>Payton</td>
<td>Sean</td>
<td>NA</td>
<td>Colorado Broncos</td>
<td><a href="mailto:spayton@broncos.usfl" class="email">spayton@broncos.usfl</a></td>
<td>NA</td>
</tr>
<tr class="odd">
<td>Harbaugh</td>
<td>Jim</td>
<td>NA</td>
<td>California Chargers</td>
<td><a href="mailto:jharbaugh@chargers.usfl" class="email">jharbaugh@chargers.usfl</a></td>
<td>3x33-3333-3333-2222</td>
</tr>
</tbody>
</table>
</div>
<div class="section level5">
<h5 id="data-objects">data objects<a class="anchor" aria-label="anchor" href="#data-objects"></a>
</h5>
<p><strong>overview: create a EML dataTable</strong></p>
<p>There are (up to) three resources that we use to provide metadata about our EML dataTable data objects. The workflow goes like this:</p>
<ol style="list-style-type: decimal">
<li><p>Load the data into the R environment and process as appropriate.</p></li>
<li><p>Generate a yaml template specific to that data object to document entity attributes.</p></li>
</ol>
<p><code>write_attributes(data_entity)</code> will generate a template as a yaml file in the working directory based on properties of the data entity such that metadata properties (e.g., attributeDefinition, units, annotations) can be added via a editor.</p>
<ol start="3" style="list-style-type: decimal"><li>If relevant, generate a yaml template specific to that data object to document entity attributes that are factors (categorical).</li></ol>
<p><code>write_factors(data_entity)</code> will generate a template as a yaml file in the working directory based on columns of the data entity that are factors such that details of factor levels can be added via a editor.</p>
<ol start="4" style="list-style-type: decimal"><li>Add the data entity details (e.g., data object name, description) to the <code>data_objects.yaml</code> file in the project directory. An entry for a dataTable where the data object in the R environment is titled <code>datasonde_record</code> might look like the following:</li></ol>
<div class="sourceCode" id="cb7"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="fu">datasonde_record</span><span class="kw">:</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> table</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a><span class="at">  </span><span class="fu">dfname</span><span class="kw">:</span><span class="at"> datasonde_record</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span><span class="at"> </span><span class="st">"record of datasonde readings in the Tempe Town Lake, Tempe, Arizona, USA"</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true"></a><span class="at">  </span><span class="fu">dateRangeField</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true"></a><span class="at">  </span><span class="fu">overwrite</span><span class="kw">:</span><span class="at"> </span><span class="ch">TRUE</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true"></a><span class="at">  </span><span class="fu">projectNaming</span><span class="kw">:</span><span class="at"> </span><span class="ch">TRUE</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true"></a><span class="at">  </span><span class="fu">missingValueCode</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true"></a><span class="at">  </span><span class="fu">additional_information</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal"><li>when the dataset is created, any numeric attributes that had custom (i.e., not in the EML schemas) will be listed in a <code>custom_units.yaml</code> template file where a description can be provided.</li></ol>
<p><em>A special case of updating existing datasets:</em></p>
<p>A common need with long-term, ongoing research to update existing metadata. A challenge is that we do not want to have to rebuild from scratch the attribute metadata for a data entity that we constructed with <code><a href="reference/write_attributes.html">write_attributes()</a></code> at each update. In terms of attribute metadata, definitions, units, etc. are relatively static but what often change are the minimum and maximum values for numeric variables as the observation record grows. We could ascertain the minimum and maximum values for numeric variables then manually update existing attribute metadata but this is tedious, error-prone, and can be time consuming when dealing with many variables. The <code>update_attributes</code> function takes care of this for us by reading the existing attribute metadata for a given data entity and updating those metadata with the minimum and maximum values for any numeric variables for said data entity.</p>
<p>Under the hood, <code>capeml</code> is using the <code>create_dataTable</code> function to build the dataTable metadata in EML format for each tabular data resource listed in <code>data_objects.yaml</code>. This function provides many services for given a rectangular data matrix of type dataframe or tibble in the R environment:</p>
<ul>
<li>the data entity is written to file as a csv in the working directory with the file name: identifier_data-entity-name.csv (or data-entity-name.csv if project naming is not invoked).</li>
<li>metadata provided in the attributes and factors (if relevant) templates are ingested</li>
<li>a EML object of type dataTable that reflects metadata detailed in the attributes and factors files noted above is returned</li>
<li>units that are outside the EML standard unit library (e.g., custom, QUDT) are added to a <code>custom_units.yaml</code> file in the project directory</li>
</ul>
<p>We can invoke <code>create_dataTable</code> outside of building a dataset, which can be helpful for previewing dataTable EML metadata before it goes into a xml file or debugging. A workflow around <code>create_dataTable</code> might look like this:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a>my_table &lt;-<span class="st"> </span>import <span class="op">/</span><span class="st"> </span>generate...process...</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true"></a><span class="co"># Note: the `try` block facilitates knitting the entire document even if the</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true"></a><span class="co"># attributes and factors yaml files already exist since they will not be</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true"></a><span class="co"># overwritten unless the overwrite flag is set, thus aborting the knit.</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true"></a><span class="kw">try</span>({</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true"></a>  capeml<span class="op">::</span><span class="kw">write_attributes</span>(my_table, <span class="dt">overwrite =</span> <span class="ot">FALSE</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true"></a>  capeml<span class="op">::</span><span class="kw">write_factors</span>(my_table, <span class="dt">overwrite =</span> <span class="ot">FALSE</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true"></a>})</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true"></a>my_table_desc &lt;-<span class="st"> "description of the table"</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true"></a><span class="co"># create_dataTable() accepts additionalInfo but is not required</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true"></a>my_additional_info &lt;-<span class="st"> "more metadata""</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true"></a></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true"></a><span class="st">my_table_DT &lt;- capeml::create_dataTable(</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true"></a><span class="st">  dfname                  = my_table,</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true"></a><span class="st">  description             = my_table_desc,</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true"></a><span class="st">  dateRangeField          = "</span>my_date_field<span class="st">",</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true"></a><span class="st">  additional_information  = my_additional_info</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true"></a><span class="st">)</span></span></code></pre></div>
<p><strong>overview: create a EML otherEntity</strong></p>
<p>A EML object of type otherEntity can be created from a single file or a directory. In the case of generating a otherEntity object from a directory, pass the directory path to the target_file_or_directory argument, capeml will recognize the target as a directory, and create a zipped file of the identified directory.</p>
<p>If the otherEntity object already is a zip file with the desired name, set the overwrite argument to FALSE to prevent overwriting the existing object.</p>
<p>As with all objects created with the capeml package, the resulting object is named with convention: projectid_object-name.file extension by default but this functionality can be turned off by setting projectNaming to FALSE.</p>
<p>As with <code><a href="reference/create_dataTable.html">create_dataTable()</a></code>, <code><a href="reference/create_otherEntity.html">create_otherEntity()</a></code> can also take advantage of the <code><a href="reference/write_attributes.html">write_attributes()</a></code> and <code><a href="reference/write_factors.html">write_factors()</a></code> services of capeml. An example of where you might want to use these features would be when documenting a spatial resource that cannot be documented as type <code>spatialRaster</code> or <code>spatialVector</code> (e.g., because the resource is projected in a coordinate reference system that is not part of the EML schema). To use these services with a directory, create an object in R with the same name as the directory that will be zipped, then pass that object to <code><a href="reference/write_attributes.html">write_attributes()</a></code> and <code><a href="reference/write_factors.html">write_factors()</a></code> - capeml will look for the resulting attribute and factor (if relevant) yaml files and match them to the directory name (see following for an example).</p>
<p><em>example: create a EML otherEntity for a vector data object</em></p>
<p>In this example, we will generate EML otherEntity metadata for a ESRI shapefile titled UEI_Features_CAPLTER_2010_2017_JAB.shp (plus <em>.dbf, </em>.prj, and other shapefile files) that is in a directory of the same name.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Read the data into R, here a shapefile using the sf package being careful to</span></span>
<span><span class="co"># name the resulting object in the R environment with the same name of the</span></span>
<span><span class="co"># directory housing the shapefiles (i.e., UEI_Features_CAPLTER_2010_2017_JAB).</span></span>
<span></span>
<span><span class="va">UEI_Features_CAPLTER_2010_2017_JAB</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span></span>
<span>  dsn   <span class="op">=</span> <span class="st">"/path/UEI_Features_CAPLTER_2010_2017_JAB/"</span>,</span>
<span>  layer <span class="op">=</span> <span class="st">"UEI_Features_CAPLTER_2010_2017_JAB"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># add factors if and as appropriate</span></span>
<span></span>
<span><span class="va">UEI_Features_CAPLTER_2010_2017_JAB</span> <span class="op">&lt;-</span> <span class="va">UEI_Features_CAPLTER_2010_2017_JAB</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>UEI_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">UEI_type</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Generate yaml files of both the attributes and factors (if relevant) from the</span></span>
<span><span class="co"># shapefile that we read into R; these will be written to the project directory</span></span>
<span><span class="co"># with the name of the object that we created in the R environment in the first</span></span>
<span><span class="co"># step - again, this must correspond to the name of directory housing the files</span></span>
<span><span class="co"># to be zipped.</span></span>
<span></span>
<span><span class="fu">capeml</span><span class="fu">::</span><span class="fu"><a href="reference/write_attributes.html">write_attributes</a></span><span class="op">(</span><span class="va">UEI_Features_CAPLTER_2010_2017_JAB</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu">capeml</span><span class="fu">::</span><span class="fu"><a href="reference/write_factors.html">write_factors</a></span><span class="op">(</span><span class="va">UEI_Features_CAPLTER_2010_2017_JAB</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>As with a dataTable, we add the otherEntity details to the <code>data_objects.yaml</code> file.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="fu">UEI_Features_CAPLTER_2010_2017_JAB</span><span class="kw">:</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> other</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true"></a><span class="at">  </span><span class="fu">target_file_or_directory</span><span class="kw">:</span><span class="at"> UEI_Features_CAPLTER_2010_2017_JAB</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span><span class="at"> </span><span class="st">"compilation of pre-existing..."</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true"></a><span class="at">  </span><span class="fu">overwrite</span><span class="kw">:</span><span class="at"> </span><span class="ch">FALSE</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true"></a><span class="at">  </span><span class="fu">projectNaming</span><span class="kw">:</span><span class="at"> </span><span class="ch">FALSE</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true"></a><span class="at">  </span><span class="fu">additional_information</span><span class="kw">:</span><span class="at"> </span><span class="st">"This is a spatial data object..."</span></span></code></pre></div>
<p>As with <code>create_dataTable</code>, we can call <code>create_otherEntity</code> outside of <code>data_objects.yaml</code> for previewing and debugging:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a>uei_features_other &lt;-<span class="st"> </span>capeml<span class="op">::</span><span class="kw">create_otherEntity</span>(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a>  <span class="dt">target_file_or_directory =</span> <span class="st">"data/UEI_Features_CAPLTER_2010_2017_JAB"</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a>  <span class="dt">description              =</span> <span class="st">"compilation of pre-existing..."</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true"></a>  <span class="dt">additional_information   =</span> <span class="st">"This is a spatial data object..."</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true"></a>)</span></code></pre></div>
<p><em>example create a EML otherEntity for a raster data object</em></p>
<p>If the raster data are not categorical, we can simply pass raster value details to the <code>entity_value_description</code> parameter and add the raster file details to the <code>data_objects.yaml.</code></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a><span class="fu">well_water_use</span><span class="kw">:</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> other</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a><span class="at">  </span><span class="fu">target_file_or_directory</span><span class="kw">:</span><span class="at"> </span><span class="st">"well_water_use.img"</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span><span class="at"> </span><span class="st">"Change of groundwater usage..."</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true"></a><span class="at">  </span><span class="fu">overwrite</span><span class="kw">:</span><span class="at"> </span><span class="ch">FALSE</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true"></a><span class="at">  </span><span class="fu">projectNaming</span><span class="kw">:</span><span class="at"> </span><span class="ch">FALSE</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true"></a><span class="at">  </span><span class="fu">additional_information</span><span class="kw">:</span><span class="at"> </span><span class="st">"This is a spatial data object..."</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true"></a><span class="at">  </span><span class="fu">entity_value_description</span><span class="kw">:</span><span class="at"> </span><span class="st">"acre-feet"</span></span></code></pre></div>
<p>If the raster data are categorical, we can construct a template to provide metadata about the factor levels using the <code>write_raster_factors()</code> tool from the capemlGIS package. <code>write_raster_factors()</code> works similarly to capeml’s <code><a href="reference/write_factors.html">write_factors()</a></code> but accommodates the matrix structure and single data type of raster data. In the example below, the well_water_use raster features changes in water level - the changes are in units of acre-feet but the changes are binned in ranges such that the values are categorical. We can use the <code>capemlGIS::write_raster_factors</code> function to generate a metadata template (well_water_use.yaml) in the working directory that we can use do document the details of the categories, which will be read when the otherEntity EML is generated.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>well_water_use &lt;-<span class="st"> </span>read raster data <span class="st">"well_water_use.img"</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true"></a>capemlGIS<span class="op">::</span><span class="kw">write_raster_factors</span>(</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true"></a>  <span class="dt">raster_entity =</span> well_water_use,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true"></a>  <span class="dt">value_name    =</span> <span class="st">"acre-feet"</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true"></a>)</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a><span class="fu">well_water_use</span><span class="kw">:</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> other</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true"></a><span class="at">  </span><span class="fu">target_file_or_directory</span><span class="kw">:</span><span class="at"> </span><span class="st">"well_water_use.img"</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true"></a><span class="at">  </span><span class="fu">description</span><span class="kw">:</span><span class="at"> </span><span class="st">"Change of groundwater usage..."</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true"></a><span class="at">  </span><span class="fu">overwrite</span><span class="kw">:</span><span class="at"> </span><span class="ch">FALSE</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true"></a><span class="at">  </span><span class="fu">projectNaming</span><span class="kw">:</span><span class="at"> </span><span class="ch">FALSE</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true"></a><span class="at">  </span><span class="fu">additional_information</span><span class="kw">:</span><span class="at"> </span><span class="st">"This is a spatial data object..."</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true"></a><span class="at">  </span><span class="fu">entity_value_description</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span></code></pre></div>
<p><strong>annotations</strong></p>
<p><code>capeml</code> supports adding semantic annotations to attributes. This is facilitated by adding <em>propertyURI</em>, <em>propertyLabel</em>, <em>valueURI</em>, and <em>valueLabel</em> details to the <code>_attrs.yaml</code> file for a data object. <em>Example, add semantic annotation (and other) metadata to the datetime field of a data object…</em></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a><span class="fu">datetime</span><span class="kw">:</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a><span class="at">  </span><span class="fu">attributeName</span><span class="kw">:</span><span class="at"> datetime</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a><span class="at">  </span><span class="fu">attributeDefinition</span><span class="kw">:</span><span class="at"> </span><span class="st">'date and time (UTC-7) of data capture'</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true"></a><span class="at">  </span><span class="fu">propertyURI</span><span class="kw">:</span><span class="at"> </span><span class="st">'http://ecoinformatics.org/oboe/oboe.1.2/oboe-core.owl#containsMeasurementsOfType'</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true"></a><span class="at">  </span><span class="fu">propertyLabel</span><span class="kw">:</span><span class="at"> </span><span class="st">'contains measurements of type'</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true"></a><span class="at">  </span><span class="fu">valueURI</span><span class="kw">:</span><span class="at"> </span><span class="st">'http://purl.dataone.org/odo/ECSO_00002043'</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true"></a><span class="at">  </span><span class="fu">valueLabel</span><span class="kw">:</span><span class="at"> </span><span class="st">'date and time of measurement'</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true"></a><span class="at">  </span><span class="fu">columnClasses</span><span class="kw">:</span><span class="at"> Date</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true"></a><span class="at">  </span><span class="fu">formatString</span><span class="kw">:</span><span class="at"> YYYY-MM-DD</span></span></code></pre></div>
<p><strong>units</strong></p>
<p><code>capeml</code> supports the following unit types: (1) units in the EML standard library, (2) custom units, and (3) units documented by QUDT. QUDT is the preferred form of units, and the example below for the <em>Temp_deg_C</em> variable illustrates adding Celsius unit metadata.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a><span class="fu">Temp_deg_C</span><span class="kw">:</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a><span class="at">  </span><span class="fu">attributeName</span><span class="kw">:</span><span class="at"> Temp_deg_C</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a><span class="at">  </span><span class="fu">attributeDefinition</span><span class="kw">:</span><span class="at"> </span><span class="st">'temperature as measured by the sensor'</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a><span class="at">  </span><span class="fu">propertyURI</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true"></a><span class="at">  </span><span class="fu">propertyLabel</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true"></a><span class="at">  </span><span class="fu">valueURI</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true"></a><span class="at">  </span><span class="fu">valueLabel</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true"></a><span class="at">  </span><span class="fu">unit</span><span class="kw">:</span><span class="at"> </span><span class="st">'DEG_C'</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true"></a><span class="at">  </span><span class="fu">numberType</span><span class="kw">:</span><span class="at"> real</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true"></a><span class="at">  </span><span class="fu">minimum</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.0</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true"></a><span class="at">  </span><span class="fu">maximum</span><span class="kw">:</span><span class="at"> </span><span class="fl">44.88</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true"></a><span class="at">  </span><span class="fu">columnClasses</span><span class="kw">:</span><span class="at"> numeric</span></span></code></pre></div>
<p>Both custom and QUDT units are documented in a <code>custom_units.yaml</code> file that is written when the EML dataset is generated. In the case of QUDT units, they are listed only for schema compliance. For custom units, however, there is a description field for each custom units in <code>custom_units.yaml</code> where a description should be provided.</p>
<p>In the case of QUDT units, these are documented also in a <code>annotations.yaml</code> file that is read when the EML eml is generated (this file does not need to be edited).</p>
</div>
<div class="section level5">
<h5 id="citations">citations<a class="anchor" aria-label="anchor" href="#citations"></a>
</h5>
<p>Below are sample work flows that use <code>capeml</code>’s <code>create_citation</code> function to generate citations by passing a resource DOI to crossref. Citations can be added to EML <code>literatureCited</code> and <code>usageCitation</code> elements. The work flow capitalizes on EML version 2.2 that accepts the BibTex format for references.</p>
<p><code><a href="reference/create_dataset.html">create_dataset()</a></code> will look for citation entities at the time of dataset construction so desired citation entities must exist in the R environment. <code>literatureCited</code> entities must be in a list named <code>citations</code>, and <code>usageCitation</code> entities must be a list named <code>usages</code>.</p>
<p>Note that, unlike a <code>literatureCited</code> citation, a <code>usageCitation</code> is <strong>not</strong> wrapped in a citation tag.</p>
<p><strong>literature cited</strong></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cook</span>    <span class="op">&lt;-</span> <span class="fu">capeml</span><span class="fu">::</span><span class="fu"><a href="reference/create_citation.html">create_citation</a></span><span class="op">(</span><span class="st">"https://doi.org/10.1016/j.envpol.2018.04.013"</span><span class="op">)</span></span>
<span><span class="va">sartory</span> <span class="op">&lt;-</span> <span class="fu">capeml</span><span class="fu">::</span><span class="fu"><a href="reference/create_citation.html">create_citation</a></span><span class="op">(</span><span class="st">"https://doi.org/10.1007/BF00031869"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">citations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  citation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="va">cook</span>,</span>
<span>    <span class="va">sartory</span></span>
<span>  <span class="op">)</span> <span class="co"># close list of citations</span></span>
<span><span class="op">)</span> <span class="co"># close citation</span></span></code></pre></div>
<p><strong>usage citations</strong></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">brown</span> <span class="op">&lt;-</span> <span class="fu">capeml</span><span class="fu">::</span><span class="fu"><a href="reference/create_citation.html">create_citation</a></span><span class="op">(</span><span class="st">"https://doi.org/10.3389/fevo.2020.569730"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">usages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">brown</span><span class="op">)</span> <span class="co"># close usages</span></span>
<span></span>
<span><span class="va">dataset</span><span class="op">$</span><span class="va">usageCitation</span> <span class="op">&lt;-</span> <span class="va">usages</span></span></code></pre></div>
<p><strong>citations that do not have a DOI</strong></p>
<p>Though a DOI makes documenting references easy, we can add citations that do not have a DOI. There are many ways to address this but likely easiest is to get or create a citation for the reference in bibtex format. <a href="http://sourceforge.net/p/bibutils/home/Bibutils/" class="external-link">bibutils</a> is a helpful utility that can convert other citation formats, such as .ris, to bibtex. With bibutils, we can convert ris to an intermediate xml format and then to bibtex.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a><span class="fu">wget</span> -O ~/Desktop/tellman_dissertation.ris https://repository.asu.edu/items/53734.ris</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a><span class="fu">cat</span> tellman_dissertation.ris <span class="kw">|</span> <span class="ex">ris2xml</span> <span class="kw">|</span> <span class="ex">xml2bib</span> <span class="op">&gt;&gt;</span> tellman_dissertation.bib</span></code></pre></div>
<p>Once we have the citation in bibtex format, we can add it along with other citations as in the example below where we added the citation for the Tellman dissertation to a suite of citations generated with capeml’s <code>create_citiation</code> function.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tellman_2021</span> <span class="op">&lt;-</span> <span class="fu">capeml</span><span class="fu">::</span><span class="fu"><a href="reference/create_citation.html">create_citation</a></span><span class="op">(</span><span class="st">"https://doi.org/10.1016/j.worlddev.2020.105374"</span><span class="op">)</span></span>
<span><span class="va">lerner_2018</span>  <span class="op">&lt;-</span> <span class="fu">capeml</span><span class="fu">::</span><span class="fu"><a href="reference/create_citation.html">create_citation</a></span><span class="op">(</span><span class="st">"https://doi.org/10.1016/j.cities.2018.06.009"</span><span class="op">)</span></span>
<span><span class="va">eakin_2019</span>   <span class="op">&lt;-</span> <span class="fu">capeml</span><span class="fu">::</span><span class="fu"><a href="reference/create_citation.html">create_citation</a></span><span class="op">(</span><span class="st">"https://doi.org/10.5751/ES-11030-240315"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tellman_dissertation</span> <span class="op">&lt;-</span> <span class="st">"</span></span>
<span><span class="st">@phdthesis{Tellman_2019,</span></span>
<span><span class="st">author={Tellman, Elizabeth</span></span>
<span><span class="st">and Turner II, Billie L.</span></span>
<span><span class="st">and Eakin, Hallie</span></span>
<span><span class="st">and Janssen, Marco</span></span>
<span><span class="st">and de Alba, Felipe</span></span>
<span><span class="st">and Jain, Meha},</span></span>
<span><span class="st">title={Mapping and Modeling Illicit and Clandestine Drivers of Land Use Change: Urban Expansion in Mexico City and Deforestation in Central America},</span></span>
<span><span class="st">publisher={Arizona State University},</span></span>
<span><span class="st">keywords={Geography; Urban planning; Land use planning; Central America; Clientelism; Institutions; Mexico; Narcotrafficking; Urbanization},</span></span>
<span><span class="st">note={Doctoral Dissertation Geography 2019},</span></span>
<span><span class="st">url={http://hdl.handle.net/2286/R.I.53734}</span></span>
<span><span class="st">}"</span></span>
<span></span>
<span></span>
<span><span class="va">bib_citation</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="va">eml_citation</span>        <span class="op">&lt;-</span> <span class="fu">EML</span><span class="fu">::</span><span class="va"><a href="https://docs.ropensci.org/EML/reference/eml.html" class="external-link">eml</a></span><span class="op">$</span><span class="fu">citation</span><span class="op">(</span>id <span class="op">=</span> <span class="st">"http://hdl.handle.net/2286/R.I.53734"</span><span class="op">)</span></span>
<span>  <span class="va">eml_citation</span><span class="op">$</span><span class="va">bibtex</span> <span class="op">&lt;-</span> <span class="va">tellman_dissertation</span></span>
<span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">eml_citation</span><span class="op">)</span></span>
<span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">tellman_2019</span> <span class="op">&lt;-</span> <span class="fu">bib_citation</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">usages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="va">tellman_2021</span>,</span>
<span>  <span class="va">goldblatt_2018</span>,</span>
<span>  <span class="va">lerner_2018</span>,</span>
<span>  <span class="va">eakin_2019</span>,</span>
<span>  <span class="va">tellman_2019</span> </span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>CC0</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing capeml</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>S Earl <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="copyright">
  <p></p>
<p>Developed by S Earl.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

    </footer>
</div>





  </body>
</html>
