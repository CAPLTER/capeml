<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create template yaml file(s) for supplying attribute unit metadata — write_units • capeml</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create template yaml file(s) for supplying attribute unit metadata — write_units"><meta name="description" content="write_units creates template yaml file(s) for supplying
attribute QUDT and custom unit metadata for a data objects that resides in
the R environment (or on disk in the case of rasters)."><meta property="og:description" content="write_units creates template yaml file(s) for supplying
attribute QUDT and custom unit metadata for a data objects that resides in
the R environment (or on disk in the case of rasters)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">capeml</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/eml_pipeline.html">capeml EML pipelines</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create template yaml file(s) for supplying attribute unit metadata</h1>

      <div class="d-none name"><code>write_units.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>write_units</code> creates template yaml file(s) for supplying
attribute QUDT and custom unit metadata for a data objects that resides in
the R environment (or on disk in the case of rasters).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write_units</span><span class="op">(</span><span class="va">entity_name</span>, <span class="va">entity_id</span>, raster <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-entity-name">entity_name<a class="anchor" aria-label="anchor" href="#arg-entity-name"></a></dt>
<dd><p>(character) Quoted name of the data object in the R environment</p></dd>


<dt id="arg-entity-id">entity_id<a class="anchor" aria-label="anchor" href="#arg-entity-id"></a></dt>
<dd><p>(character) A string that uniquely identifies the object in the R
environment (e.g., the hash of a table)</p></dd>


<dt id="arg-raster">raster<a class="anchor" aria-label="anchor" href="#arg-raster"></a></dt>
<dd><p>(boolean) Boolean indicating that the target data are a raster</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>`annotations.yaml`, `custom_units.yaml`, both, or neither depending
on the unit reference (QUDT, custom, EML standard unit library) used to
characterize attribute units for a data entity.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>write_units</code> generates zero to two yaml template files based
on the reference of attribute units associated with a data entity. A
`annotations.yaml` template is generated if attribute units are in the QUDT
unit dictionary. A `custom_units.yaml` template is generated for custom
(i.e., not in the EML standard units or QUDT dictionaries) and/or QUDT units.
In the case of custom units, entries include a description field for
investigators to provide a description of the unit. In the case of QUDT
units, only the name and label of the unit are included in
`custom_units.yaml` - QUDT metadata are documented in the &lt;annotation&gt;
element but a reference to any units not in the EML standard unit list must
be referenced in &lt;additionalMetadata&gt;. `annotations.yaml` and
`custom_units.yaml` will be created if both QUDT and custom units are
identified, and neither template will be written if the data entity does not
have units or if all of the units are in the EML standard dictionary (because
further documentation is not required). Unit metadata will be appended to
templates if they already exist in the working directory.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p><code>write_units</code> evalutes a data object's attributes metadata file
(e.g., `my_table_attrs.yaml`). As such, this file must exist in the working
directory. This applies also to rasters for which a my_raster.yaml is
employed.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co"># create units metadata file(s) from the algae_attrs.yaml</span></span></span>
<span class="r-in"><span> <span class="co"># file in the working directory</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="va">algae</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="st">"algae.csv"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="fu">capeml</span><span class="fu">::</span><span class="fu">write_units</span><span class="op">(</span></span></span>
<span class="r-in"><span>   entity_name <span class="op">=</span> <span class="st">"algae"</span>,</span></span>
<span class="r-in"><span>   entity_id   <span class="op">=</span> <span class="fu">tools</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/tools/md5sum.html" class="external-link">md5sum</a></span><span class="op">(</span><span class="st">"algae.csv"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by S Earl.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

