<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Construct a csv tabular data file and create metadata of type
dataTable — create_dataTable • capeml</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Construct a csv tabular data file and create metadata of type
dataTable — create_dataTable"><meta property="og:description" content="create_dataTable writes a tabular data file of type csv and
generates a EML entity of type dataTable"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">capeml</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.13.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Construct a csv tabular data file and create metadata of type
dataTable</h1>
    
    <div class="hidden name"><code>create_dataTable.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>create_dataTable writes a tabular data file of type csv and
generates a EML entity of type dataTable</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">create_dataTable</span><span class="op">(</span>
  <span class="va">dfname</span>,
  <span class="va">description</span>,
  <span class="va">dateRangeField</span>,
  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,
  projectNaming <span class="op">=</span> <span class="cn">TRUE</span>,
  missingValueCode <span class="op">=</span> <span class="cn">NULL</span>,
  additional_information <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>dfname</dt>
<dd><p>(character) The unquoted name of the R data frame or tibble.</p></dd>
<dt>description</dt>
<dd><p>(character) A quoted description of the data frame or tibble that will
populate the entityDescription element of the EML document. name of the
raster data to be processed is included as a parameter in this metadata
file).</p></dd>
<dt>dateRangeField</dt>
<dd><p>(optional)
(character) The quoted name of the data entity field that is a date field
that would reflect the start and end dates of the data reflected in the
data entity.</p></dd>
<dt>overwrite</dt>
<dd><p>(logical) A logical indicating whether to overwrite an existing file bearing
the same name as csv file as it is imported.</p></dd>
<dt>projectNaming</dt>
<dd><p>(logical) Logical indicating if the resulting csv file should be renamed per
the style used in the capeml ecosystem with the project id + base file name
+ md5sum + file extension. If set to false, the resulting csv will bear the
name the object is assigned in the R environment.</p></dd>
<dt>missingValueCode</dt>
<dd><p>(optional)
(character) create_dataTable will automatically document the presence of NA
and NaN entries as missing values in the EML output. The user has the
ability to identify an additional indicator of missing values (e.g.,
"-9999", "missing").</p></dd>
<dt>additional_information</dt>
<dd><p>(character) Additional information about the data object. Should be quoted,
and accepts (but not required) markdown formatting.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>EML dataTable object is returned. Additionally, the data entity is
 written to file as type csv, and renamed with the package number + base
 file name + md5sum + file extension (csv in this case).</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>create_dataTable writes a tabular data file of type csv and creates
a corresponding EML dataTable object from a data frame or tibble object in
the R environment. The function reads the attributes and classes contained
within a supporting yaml file generated from the write_attributes function -
create_dataTable will look for a file in the working directory with a name
of type dataframeName_attrs.yaml. Factors also are read from a supporting
yaml file - create_dataTable will look for a file in the working directory
with a name of type dataframeName_factors.yaml. If that exists, the factor
details outlined in that file will be incorporated into the EML, else the
EML will be built without factor metadata. Note that this functionality is
predicated on the existence of a file containing metadata about any factors
in the dataframe, that the file is in the working directory, and that the
file matches the dataframe name precisely; the function does not look for
variables of type factor in the dataframe. In addition to generating a EML
entity of type dataTable, create_dataTable writes the R object to file as
type csv, and renames the file with package number + base object name +
md5sum + file extension (csv in this case) if selected.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>If project naming is TRUE then create_dataTable will look for a
package number (packageNum) in config.yaml; this parameter is not passed to
the function and it must exist.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">data_entity</span> <span class="op">&lt;-</span> <span class="fu">read</span><span class="op">(</span><span class="st">"data source"</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="va">processing</span> <span class="op">%&gt;%</span></span>
<span class="r-in">  <span class="va">processing</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="op">{</span></span>
<span class="r-in">  <span class="fu">capeml</span><span class="fu">::</span><span class="fu"><a href="write_attributes.html">write_attributes</a></span><span class="op">(</span><span class="va">data_entity</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">capeml</span><span class="fu">::</span><span class="fu"><a href="write_factors.html">write_factors</a></span><span class="op">(</span><span class="va">data_entity</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">data_entity_desc</span> <span class="op">&lt;-</span> <span class="st">"snow leopard data"</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># create_dataTable with optional arguments dateRangeField and missingValueCode</span></span>
<span class="r-in"><span class="va">data_entity_DT</span> <span class="op">&lt;-</span> <span class="fu">capeml</span><span class="fu">::</span><span class="fu">create_dataTable</span><span class="op">(</span></span>
<span class="r-in">       dfname <span class="op">=</span> <span class="va">data_entity</span>,</span>
<span class="r-in">       description <span class="op">=</span> <span class="va">data_entity_desc</span>,</span>
<span class="r-in">       dateRangeField <span class="op">=</span> <span class="st">"observation date"</span>,</span>
<span class="r-in">       missingValueCode <span class="op">=</span> <span class="st">"missing"</span></span>
<span class="r-in">       <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The resulting dataTable entity can be added to a EML dataset</span></span>
<span class="r-in"><span class="va">dataset</span> <span class="op">&lt;-</span> <span class="fu">EML</span><span class="fu">::</span><span class="va"><a href="https://docs.ropensci.org/EML/reference/eml.html" class="external-link">eml</a></span><span class="op">$</span><span class="fu">dataset</span><span class="op">(</span>dataTable <span class="op">=</span> <span class="va">data_entity_DT</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by S Earl.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

